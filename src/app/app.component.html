<div class="main-container container-fluid">
  <!-- Logo centrado -->
  <div class="d-flex justify-content-center mt-4 mb-3">
    <img src="assets/Imagenes/logo.png" alt="Logos" class="img-fluid" style="max-height: 100px;">
  </div>

  <!-- Toast mensajes -->
  <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 500;">
    <div class="toast align-items-center text-white border-0 show"
        role="alert" aria-live="assertive" aria-atomic="true"
        *ngIf="mensaje"
        [ngClass]="{
          'bg-success': tipoMensaje === 'success',
          'bg-danger': tipoMensaje === 'danger',
          'bg-warning text-dark': tipoMensaje === 'warning'
        }" style="max-width: 260px;">
      <div class="d-flex">
        <div class="toast-body fs-6 text-truncate" style="max-width: 240px;">
          <i class="me-2"
            [ngClass]="{
              'bi-check-circle-fill': tipoMensaje === 'success',
              'bi-exclamation-triangle-fill': tipoMensaje === 'warning',
              'bi-x-circle-fill': tipoMensaje === 'danger'
            }"></i>
          {{ mensaje }}
        </div>
      </div>
    </div>
  </div>
  <!-- Contenedor principal: Formulario + Panel de resultados -->
 <div class="d-flex justify-content-center align-items-start gap-4 flex-wrap">

    <!-- Formulario -->
    <div class="p-5 rounded shadow-lg"
        style="background: linear-gradient(to right, #0c3d98, #185ADB); width: 680px; min-height: 550px; display: flex; flex-direction: column;">

      <div class="d-flex flex-column align-items-center justify-content-center flex-grow-1">
        <h2 class="text-white" style="font-size: 2.3rem;">VALIDACIÓN DE CERTIFICACIONES</h2>

        <label for="codigo" class="form-label text-white fs-4 text-center w-100 mt-4">
          Ingrese el código de la certificación:
        </label>

        <input [(ngModel)]="codigo" id="codigo" type="text"
              class="form-control form-control-lg mb-4 w-75 text-center"
              placeholder="Ej: ABC123">

        <button class="btn btn-light btn-lg w-75"
                style="background-color: rgb(18, 8, 107); color: white;" (click)="validar()">
          Validar
        </button>
      </div>
    </div>

    <!-- Panel lateral de resultados -->
    <div class="rounded shadow-lg bg-white border border-primary" style="width: 680px; min-height: 550px; display: flex; flex-direction: column;">

      <!-- Mostrar datos si existen -->
      <div *ngIf="mostrarModal; else placeholder" class="flex-grow-1 d-flex flex-column">

        <!-- Encabezado -->
        <div class="bg-primary text-white d-flex justify-content-between align-items-center px-3 py-2 rounded-top">
          <span class="fs-4 fw-semibold">Datos de la Certificación</span>
          <button class="btn btn-light btn-sm btn-cerrar-modal" (click)="cerrarModal()" style="width: 32px; height: 32px; font-size: 1.8rem; padding: 0; line-height: 1; display: inline-flex; align-items: center; justify-content: center;">×</button>
        </div>
        <!-- Cuerpo del modal -->
        <div class="px-4 py-3 bg-light flex-grow-1">

          <h5 class="text-primary text-uppercase fw-bold mb-4 border-bottom pb-2">
            {{ datosCertificacion.razon }}
          </h5>

          <div class="mb-3">
            <label class="text-secondary fw-semibold mb-1 d-block">Nombre del participante</label>
            <span class="text-dark">{{ datosCertificacion.nombre }}</span>
          </div>

          <div class="mb-3">
            <label class="text-secondary fw-semibold mb-1 d-block">Tipo de participación</label>
            <span class="text-dark">{{ datosCertificacion.tipo }}</span>
          </div>

          <div class="mb-3">
            <label class="text-secondary fw-semibold mb-1 d-block">Fecha de emisión</label>
            <span class="text-dark">{{ datosCertificacion.fecha_emision | date }}</span>
          </div>

          <div class="text-center mt-auto pt-4">
            <img src="assets/Imagenes/Certificado.png" alt="Logo" class="img-fluid" style="max-width: 140px;">
          </div>

        </div>
      </div>

      <!-- Placeholder si no hay datos -->
      <ng-template #placeholder>
        <div class="d-flex justify-content-center align-items-center flex-grow-1 bg-light text-secondary rounded p-3" style="min-height: 550px;">
          <p class="text-center fs-5 m-0">
            No hay datos para mostrar. Por favor ingrese un código.
          </p>
        </div>
      </ng-template>
    </div>
  </div>
</div>